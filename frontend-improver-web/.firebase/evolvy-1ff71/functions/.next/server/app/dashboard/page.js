(()=>{var e={};e.id=702,e.ids=[702],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},93917:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>d.a,__next_app__:()=>h,originalPathname:()=>m,pages:()=>c,routeModule:()=>p,tree:()=>l});var s=r(50482),a=r(69108),n=r(62563),d=r.n(n),i=r(68300),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);r.d(t,o);let l=["",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,79865)),"/Users/arminforoughi/Documents/test2/xfeatures/frontend-improver-web/app/dashboard/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,17952)),"/Users/arminforoughi/Documents/test2/xfeatures/frontend-improver-web/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,69361,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/arminforoughi/Documents/test2/xfeatures/frontend-improver-web/app/dashboard/page.tsx"],m="/dashboard/page",h={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/dashboard/page",pathname:"/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},59234:(e,t,r)=>{Promise.resolve().then(r.bind(r,5476))},6405:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,2583,23)),Promise.resolve().then(r.t.bind(r,26840,23)),Promise.resolve().then(r.t.bind(r,38771,23)),Promise.resolve().then(r.t.bind(r,13225,23)),Promise.resolve().then(r.t.bind(r,9295,23)),Promise.resolve().then(r.t.bind(r,43982,23))},96150:(e,t,r)=>{Promise.resolve().then(r.bind(r,37212)),Promise.resolve().then(r.bind(r,42105))},5476:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var s=r(95344),a=r(3729),n=r(47674),d=r(84887),i=r(18816);function o(){let{data:e}=(0,n.useSession)(),[t,r]=(0,a.useState)([]),[d,o]=(0,a.useState)(!0),[l,c]=(0,a.useState)("7d");(0,a.useEffect)(()=>{m()},[l]);let m=async()=>{try{let e=await fetch(`/api/analytics?range=${l}`);if(!e.ok)throw Error("Failed to fetch analytics");let t=await e.json();r(Array.isArray(t)?t:[])}catch(e){console.error("Error fetching analytics:",e),r([])}finally{o(!1)}};return e?d?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):s.jsx("div",{className:"min-h-screen bg-gray-50",children:s.jsx("div",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:(0,s.jsxs)("div",{className:"px-4 py-6 sm:px-0",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Engagement Analytics Dashboard"}),(0,s.jsxs)("select",{value:l,onChange:e=>c(e.target.value),className:"rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[s.jsx("option",{value:"7d",children:"Last 7 days"}),s.jsx("option",{value:"30d",children:"Last 30 days"}),s.jsx("option",{value:"all",children:"All time"})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[(0,s.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[s.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Scroll Depth Comparison"}),s.jsx(i.$Q,{data:(()=>{let e=t.filter(e=>"original"===e.variant&&"scroll"===e.type),r=t.filter(e=>"improved"===e.variant&&"scroll"===e.type);return{labels:["0-25%","25-50%","50-75%","75-100%"],datasets:[{label:"Original",data:[e.filter(e=>e.data.depth&&e.data.depth<=25).length,e.filter(e=>e.data.depth&&e.data.depth>25&&e.data.depth<=50).length,e.filter(e=>e.data.depth&&e.data.depth>50&&e.data.depth<=75).length,e.filter(e=>e.data.depth&&e.data.depth>75).length],backgroundColor:"rgba(255, 99, 132, 0.5)"},{label:"Improved",data:[r.filter(e=>e.data.depth&&e.data.depth<=25).length,r.filter(e=>e.data.depth&&e.data.depth>25&&e.data.depth<=50).length,r.filter(e=>e.data.depth&&e.data.depth>50&&e.data.depth<=75).length,r.filter(e=>e.data.depth&&e.data.depth>75).length],backgroundColor:"rgba(54, 162, 235, 0.5)"}]}})()})]}),(0,s.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[s.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Time Spent Comparison"}),s.jsx(i.x1,{data:(()=>{let e=t.filter(e=>"original"===e.variant&&"time_spent"===e.type),r=t.filter(e=>"improved"===e.variant&&"time_spent"===e.type);return{labels:["0-30s","30-60s","1-2m","2-5m","5m+"],datasets:[{label:"Original",data:[e.filter(e=>e.data.seconds&&e.data.seconds<=30).length,e.filter(e=>e.data.seconds&&e.data.seconds>30&&e.data.seconds<=60).length,e.filter(e=>e.data.seconds&&e.data.seconds>60&&e.data.seconds<=120).length,e.filter(e=>e.data.seconds&&e.data.seconds>120&&e.data.seconds<=300).length,e.filter(e=>e.data.seconds&&e.data.seconds>300).length],borderColor:"rgb(255, 99, 132)",backgroundColor:"rgba(255, 99, 132, 0.5)"},{label:"Improved",data:[r.filter(e=>e.data.seconds&&e.data.seconds<=30).length,r.filter(e=>e.data.seconds&&e.data.seconds>30&&e.data.seconds<=60).length,r.filter(e=>e.data.seconds&&e.data.seconds>60&&e.data.seconds<=120).length,r.filter(e=>e.data.seconds&&e.data.seconds>120&&e.data.seconds<=300).length,r.filter(e=>e.data.seconds&&e.data.seconds>300).length],borderColor:"rgb(54, 162, 235)",backgroundColor:"rgba(54, 162, 235, 0.5)"}]}})()})]}),(0,s.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[s.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Interaction Types"}),s.jsx(i.$I,{data:(()=>{let e=t.filter(e=>"original"===e.variant),r=t.filter(e=>"improved"===e.variant),s=["click","scroll","form_submit","media_play"];return{labels:s,datasets:[{label:"Original",data:s.map(t=>e.filter(e=>e.type===t).length),backgroundColor:"rgba(255, 99, 132, 0.5)"},{label:"Improved",data:s.map(e=>r.filter(t=>t.type===e).length),backgroundColor:"rgba(54, 162, 235, 0.5)"}]}})()})]}),(0,s.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[s.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Summary"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-600",children:"Total Visitors"}),s.jsx("span",{className:"font-medium",children:t.length})]}),(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-600",children:"Average Time Spent"}),(0,s.jsxs)("span",{className:"font-medium",children:[Math.round(t.filter(e=>"time_spent"===e.type&&e.data.seconds).reduce((e,t)=>e+(t.data.seconds||0),0)/t.filter(e=>"time_spent"===e.type).length||0),"s"]})]}),(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-600",children:"Most Common Interaction"}),s.jsx("span",{className:"font-medium",children:Object.entries(t.reduce((e,t)=>(e[t.type]=(e[t.type]||0)+1,e),{})).sort((e,t)=>t[1]-e[1])[0]?.[0]||"N/A"})]})]})]})]})]})})}):s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsx("div",{className:"text-center",children:s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Please sign in to view the dashboard"})})})}d.kL.register(d.uw,d.f$,d.od,d.jn,d.ZL,d.Dx,d.u,d.De,d.qi)},37212:(e,t,r)=>{"use strict";r.r(t),r.d(t,{Providers:()=>n});var s=r(95344),a=r(47674);function n({children:e}){return s.jsx(a.SessionProvider,{children:e})}},42105:(e,t,r)=>{"use strict";r.r(t),r.d(t,{ThemeProvider:()=>n});var s=r(95344);r(3729);var a=r(99558);function n({children:e,...t}){return s.jsx(a.f,{...t,children:e})}},79865:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>n,__esModule:()=>a,default:()=>d});let s=(0,r(86843).createProxy)(String.raw`/Users/arminforoughi/Documents/test2/xfeatures/frontend-improver-web/app/dashboard/page.tsx`),{__esModule:a,$$typeof:n}=s,d=s.default},17952:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>x,metadata:()=>g});var s=r(25036),a=r(8592),n=r.n(a);r(67272);var d=r(86843);let i=(0,d.createProxy)(String.raw`/Users/arminforoughi/Documents/test2/xfeatures/frontend-improver-web/src/components/theme-provider.tsx`),{__esModule:o,$$typeof:l}=i;i.default;let c=(0,d.createProxy)(String.raw`/Users/arminforoughi/Documents/test2/xfeatures/frontend-improver-web/src/components/theme-provider.tsx#ThemeProvider`),m=(0,d.createProxy)(String.raw`/Users/arminforoughi/Documents/test2/xfeatures/frontend-improver-web/src/components/providers.tsx`),{__esModule:h,$$typeof:p}=m;m.default;let u=(0,d.createProxy)(String.raw`/Users/arminforoughi/Documents/test2/xfeatures/frontend-improver-web/src/components/providers.tsx#Providers`),g={title:"Frontend Improver - AI-Powered Frontend Enhancement",description:"Let AI improve your frontend code while tracking user engagement metrics."};function x({children:e}){return s.jsx("html",{lang:"en",suppressHydrationWarning:!0,children:s.jsx("body",{className:n().className,children:s.jsx(u,{children:s.jsx(c,{attribute:"class",defaultTheme:"system",enableSystem:!0,disableTransitionOnChange:!0,children:e})})})})}},67272:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[638,169,816],()=>r(93917));module.exports=s})();