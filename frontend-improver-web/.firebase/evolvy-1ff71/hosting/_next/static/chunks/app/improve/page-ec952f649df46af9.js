(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[932],{98713:function(e,r,t){Promise.resolve().then(t.bind(t,78731))},78731:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return d}});var s=t(3827),n=t(64090),a=t(71126),o=t(47907),i=t(85754),c=t(9723);function l(){let{data:e}=(0,a.useSession)(),r=(0,o.useRouter)(),t=(0,o.useSearchParams)(),[l,d]=(0,n.useState)([]),[u,m]=(0,n.useState)(!0),[h,x]=(0,n.useState)(""),[f,g]=(0,n.useState)(!1),p=t.get("repo"),b=t.get("token");return(0,n.useEffect)(()=>{if(!p||!b){r.push("/select-repo");return}let e=new EventSource("/api/improve?repo=".concat(p,"&token=").concat(b));return e.onmessage=r=>{let t=JSON.parse(r.data);"log"===t.type?d(e=>[...e,t.message]):"complete"===t.type?(g(!0),e.close(),m(!1)):"error"===t.type&&(x(t.message),e.close(),m(!1))},e.onerror=()=>{x("Connection lost. Please try again."),e.close(),m(!1)},()=>{e.close()}},[p,b,r]),(0,s.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,s.jsx)("header",{className:"w-full border-b bg-background",children:(0,s.jsx)("div",{className:"container mx-auto flex h-28 items-center justify-between px-4",children:(0,s.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,s.jsx)(c.Z,{src:"/Adobe Express - file.png",alt:"Logo",width:96,height:96,className:"",priority:!0}),(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsx)("span",{className:"text-3xl font-bold tracking-tight text-primary",children:"Improvement Process"}),(0,s.jsx)("span",{className:"text-base text-muted-foreground mt-1",children:"Enhancing your frontend with AI"})]})]})})}),(0,s.jsx)("main",{className:"container mx-auto px-4 py-8",children:(0,s.jsx)("div",{className:"max-w-4xl mx-auto",children:(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold",children:"Improvement Status"}),u&&(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-t-2 border-b-2 border-blue-500"}),(0,s.jsx)("span",{className:"text-sm text-gray-500",children:"Processing..."})]})]}),h?(0,s.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 text-red-700",children:h}):(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("div",{className:"bg-gray-50 rounded-lg p-4 h-[400px] overflow-y-auto font-mono text-sm",children:l.map((e,r)=>(0,s.jsx)("div",{className:"whitespace-pre-wrap mb-2",children:e},r))}),f&&(0,s.jsxs)("div",{className:"mt-6",children:[(0,s.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-6",children:[(0,s.jsx)("h3",{className:"text-green-800 font-medium mb-2",children:"Improvement Complete!"}),(0,s.jsx)("p",{className:"text-green-700",children:"Your frontend code has been enhanced. Now you can track user engagement metrics across different branches to measure the impact of these improvements."})]}),(0,s.jsx)(i.z,{onClick:()=>{r.push("/branches?repo=".concat(p))},className:"w-full bg-black hover:bg-gray-800 text-white",children:"Continue to Branch Management"})]})]})]})})})]})}function d(){return(0,s.jsx)(n.Suspense,{fallback:(0,s.jsx)("div",{children:"Loading..."}),children:(0,s.jsx)(l,{})})}},9723:function(e,r,t){"use strict";t.d(r,{Z:function(){return a}});var s=t(3827),n=t(64090);function a(e){let{src:r,alt:t,width:a,height:o,className:i="",priority:c=!1}=e,[l,d]=(0,n.useState)(!1);return l?(0,s.jsx)("div",{className:"bg-gray-100 rounded-lg flex items-center justify-center ".concat(i),style:{width:a,height:o},children:(0,s.jsx)("div",{className:"text-gray-500 text-sm",children:"Image unavailable"})}):(0,s.jsx)("img",{src:r,alt:t,width:a,height:o,loading:c?"eager":"lazy",className:i,onError:()=>d(!0),style:{maxWidth:"100%",height:"auto"}})}},85754:function(e,r,t){"use strict";t.d(r,{z:function(){return l}});var s=t(3827),n=t(64090),a=t(59143),o=t(49769),i=t(1657);let c=(0,o.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),l=n.forwardRef((e,r)=>{let{className:t,variant:n,size:o,asChild:l=!1,...d}=e,u=l?a.g7:"button";return(0,s.jsx)(u,{className:(0,i.cn)(c({variant:n,size:o,className:t})),ref:r,...d})});l.displayName="Button"},1657:function(e,r,t){"use strict";t.d(r,{cn:function(){return a}});var s=t(75504),n=t(51367);function a(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(0,n.m6)((0,s.W)(r))}},47907:function(e,r,t){"use strict";var s=t(15313);t.o(s,"useRouter")&&t.d(r,{useRouter:function(){return s.useRouter}}),t.o(s,"useSearchParams")&&t.d(r,{useSearchParams:function(){return s.useSearchParams}})}},function(e){e.O(0,[233,126,971,69,744],function(){return e(e.s=98713)}),_N_E=e.O()}]);